<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>CooDocs - Documento</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet"/>
  <link rel="stylesheet" href="../css/documento.css" />
</head>

<body class="mt-3">
  <!-- Navbar fixa -->
  <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
    <div class="container-fluid px-4">
      <a class="navbar-brand" href="/index">CooDocs</a>
      <div class="ms-auto">
        <!-- Mostra total de usuários online -->
        <span id="usuarios-conectados" class="navbar-text">
          Usuários online: 0
        </span>
      </div>
    </div>
  </nav>

  <header class="text-center mb-4" style="margin-top:80px;">
    <!-- Título do documento -->
    <h2 id="titulo-documento" class="fs-4 d-inline-block">Documento sem título</h2>
    <!-- Ícone de edição ao lado do título -->
    <span id="icone-editar-titulo" class="fs-5">&#9998;</span>

    <!-- Input para edição do título (oculto inicialmente) -->
    <input
      type="text"
      id="input-editar-titulo"
      class="form-control form-control-sm text-center"
      placeholder="Digite o novo título..."
    />
  </header>

  <main class="container">
    <div class="editor-container">
      <!-- Indicador de status da edição em tempo real -->
      <div id="status-indicador">Aguardando edição...</div>
      <textarea
        id="editor-texto"
        class="form-control shadow-sm"
        placeholder="Digite aqui..."
      ></textarea>
    </div>

    <div class="d-flex justify-content-between mb-3">
      <a href="/index.html" class="btn btn-outline-primary">Voltar</a>
      <button id="excluir-documento" class="btn btn-danger">
        Excluir documento
      </button>
    </div>
  </main>

  <!-- Bootstrap JS Bundle -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
  <!-- Socket.io -->
  <script src="/socket.io/socket.io.js"></script>
  <!-- Front-end do Socket para o documento -->
  <script src="/socket/socket-front-documento.js" type="module"></script>
  <!-- Lógica principal do documento -->
  <script src="/js/documento.js" type="module"></script>
</body>
</html>
